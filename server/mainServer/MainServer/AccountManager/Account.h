// ============================================================================
// myungdal tech-demo project
// 
// Author: 안명달 (Myungdal Ahn)
// Email: mooondal@gmail.com
// GitHub: https://github.com/myungdal/tech_demo.git
// ============================================================================

#pragma once

#include "Packet/BasePacketAutoGenerated/PACKET_COMMON.h"


using AccountUserList = std::list<PacketKeep<ACCOUNT_USER>>;

class Account
{
private:
	PacketKeep<ACCOUNT> mAccount;
	AuthTicket mAuthTicket = INVALID_AUTH_TICKET;
	AccountUserList mAccountUserList;

public:
	explicit Account(const ACCOUNT& account);

	void SetAccount(const ACCOUNT& account);
	const ACCOUNT& GetAccount() const;

	const ACCOUNT_USER* CreateAccountUser(const wchar_t* userName);
	bool DeleteAccountUser(UserId userId);

	const ACCOUNT_USER* LoadAccountUser(UserId userId);
	const AccountUserList& LoadAccountUserList();
	void ResetAccountUserList();

	void SetAuthTicket(AuthTicket authTicket);
	AuthTicket GetAuthTicket() const;
};

