// ============================================================================
// myungdal tech-demo project
// 
// Author: 안명달 (Myungdal Ahn)
// Email: mooondal@gmail.com
// GitHub: https://github.com/myungdal/tech_demo.git
// ============================================================================

import LogServer;
import ServerEngineDb;

#include "LogPacketHandler.h"

LogPacketHandler::LogPacketHandler()
{
#include "LogServer/PacketHandler/LogPacketHandler/AutoGenerated/DefineLogPacketWorker.hpp"
}

LogPacketWorkerPtr LogPacketHandler::GetLogPacketWorker(NetworkPacket& rp)
{
	static std::unordered_map<PacketType, LogPacketWorkerPtr*> map{
#include "LogServer/PacketHandler/LogPacketHandler/AutoGenerated/GetLogPacketWorker.hpp"
	};

	const PacketType packetType = rp.GetPacketType();

	auto it = map.find(packetType);
	if (it == map.end())
		return nullptr;

	LogPacketWorkerPtr& worker = *it->second;
	return worker;
}

#include "LogServer/PacketHandler/LogPacketHandler/AutoGenerated/DefineOnLogPacket.hpp"

